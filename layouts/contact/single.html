{{ define "main" }}
<div class="contact-page">
  <!-- Page Header -->
  <section class="page-header {{ if not .Params.image }}page-header-gradient{{ end }}">
    {{ if .Params.image }}
    <div class="page-header-bg">
      <img src="{{ .Params.image }}" alt="{{ .Title }}" class="header-background-image">
      <div class="page-header-overlay"></div>
    </div>
    {{ end }}
    <div class="page-header-content">
      <div class="container">
        <div class="row">
          <div class="col-12 text-center">
            <h1 class="page-title">{{ .Title | default "Contact Us" }}</h1>
            <p class="page-subtitle">{{ .Params.hero_subtitle | default "Get in touch for all your needs" }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Contact Content -->
  <section class="contact-content-section py-5">
    <div class="container">
      <!-- Contact Content -->
      <div class="row mb-5">
        <div class="col-12">
          <div class="contact-content">
            {{ .Content }}
          </div>
        </div>
      </div>
      
      <!-- Form and Map Stacked Vertically -->
      <div class="row">
        <div class="col-12">
          <!-- Contact Form -->
          <div class="contact-form-wrapper mb-5">
            <h3>Send Us a Message</h3>
            <form class="contact-form" method="POST" action="#" netlify data-netlify="true">
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="name" class="form-label">Full Name *</label>
                  <input type="text" class="form-control" id="name" name="name" required>
                </div>
                <div class="col-md-6 mb-3">
                  <label for="phone" class="form-label">Phone Number *</label>
                  <input type="tel" class="form-control" id="phone" name="phone" required>
                </div>
              </div>
              
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="email" class="form-label">Email Address *</label>
                  <input type="email" class="form-control" id="email" name="email" required>
                </div>
                <div class="col-md-6 mb-3">
                  <label for="service_type" class="form-label">Service Needed</label>
                  <select class="form-select" id="service_type" name="service_type">
                    <option value="">Select a service</option>
                    <option value="electrical_installation">Electrical Installation</option>
                    <option value="panel_upgrade">Panel Upgrade</option>
                    <option value="lighting">Lighting Installation</option>
                    <option value="electrical_repair">Electrical Repair</option>
                    <option value="emergency">Emergency Service</option>
                    <option value="other">Other</option>
                  </select>
                </div>
              </div>
              
              <div class="mb-3">
                <label for="address" class="form-label">Service Address</label>
                <input type="text" class="form-control" id="address" name="address" placeholder="Where do you need service?">
              </div>
              
              <div class="mb-3">
                <label for="message" class="form-label">Message</label>
                <textarea class="form-control" id="message" name="message" rows="4" placeholder="Tell us about your electrical needs..."></textarea>
              </div>
              
              <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="emergency" name="emergency">
                <label class="form-check-label" for="emergency">
                  This is an emergency (we'll call you immediately)
                </label>
              </div>
              
              <button type="submit" class="btn btn-primary btn-lg">
                <i class="fas fa-paper-plane me-2"></i>
                Send Message
              </button>
            </form>
          </div>
          
          <!-- Map Section -->
          {{ if .Params.map_embed }}
          <div class="map-section">
            <h3>Our Location</h3>
            <div class="map-container-large">
              {{ .Params.map_embed | safeHTML }}
            </div>
          </div>
          {{ end }}
        </div>
      </div>
      
      <!-- Contact Info Cards Below -->
      <div class="row mt-5">
        <div class="col-lg-4 mb-4">
          <div class="contact-info-card">
            <h4><i class="fas fa-phone-alt me-2"></i>Call Us</h4>
            <p class="mb-2">
              <strong>Main:</strong> <a href="tel:{{ .Params.phone | default .Site.Params.phone }}">{{ .Params.phone | default .Site.Params.phone }}</a>
            </p>
            {{ if .Site.Params.phone }}
            <p class="mb-0">
              <strong>Emergency:</strong> <a href="tel:{{ .Site.Params.phone }}">{{ .Site.Params.phone }}</a>
            </p>
            {{ end }}
          </div>
        </div>
        
        <div class="col-lg-4 mb-4">
          <div class="contact-info-card">
            <h4><i class="fas fa-envelope me-2"></i>Email Us</h4>
            <p class="mb-0">
              <a href="mailto:{{ .Params.email | default .Site.Params.email }}">{{ .Params.email | default .Site.Params.email }}</a>
            </p>
          </div>
        </div>
        
        <div class="col-lg-4 mb-4">
          <div class="contact-info-card">
            <h4><i class="fas fa-map-marker-alt me-2"></i>Visit Us</h4>
            <p class="mb-0">{{ .Params.business_address | default .Site.Params.address }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  
</div>

<style>
/* Contact Page Styles */
.contact-page .page-header {
  position: relative;
  color: white;
  padding: 80px 0;
  min-height: 400px;
  overflow: hidden;
}

.page-header-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}

.header-background-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.page-header-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.5);
  z-index: 2;
}

.page-header-content {
  position: relative;
  z-index: 3;
}

.page-title {
  font-size: 3rem;
  font-weight: 700;
  margin-bottom: 1rem;
  color: white;
}

.page-subtitle {
  font-size: 1.25rem;
  opacity: 0.9;
  margin: 0;
  color: white;
}

/* Gradient background when no image is present */
.page-header-gradient {
  background: linear-gradient(135deg, 
    #ff6b6b 0%,     /* Coral/Red */
    #ee5a6f 25%,    /* Pink-Red */
    #a855f7 50%,    /* Purple */
    #6366f1 75%,    /* Indigo */
    #3b82f6 100%    /* Blue */
  );
}

.contact-content-section {
  background: white;
}

.contact-content h1,
.contact-content h2,
.contact-content h3,
.contact-content h4 {
  color: var(--primary-color);
  margin-top: 2rem;
  margin-bottom: 1rem;
}

.contact-content h1:first-child,
.contact-content h2:first-child {
  margin-top: 0;
}

.contact-content p {
  line-height: 1.7;
  margin-bottom: 1.5rem;
}

.contact-form-wrapper {
  background: #f8f9fa;
  padding: 2rem;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.contact-form-wrapper h3 {
  color: var(--primary-color);
  margin-bottom: 1.5rem;
  font-size: 1.5rem;
}

.contact-form .form-control,
.contact-form .form-select {
  padding: 0.75rem 1rem;
  border: 1px solid #ddd;
  border-radius: 5px;
}

.contact-form .form-control:focus,
.contact-form .form-select:focus {
  border-color: var(--primary-color);
  box-shadow: 0 0 0 0.2rem rgba(var(--primary-color-rgb), 0.25);
}

.contact-info-sidebar {
  padding-left: 2rem;
}

.contact-info-card {
  background: white;
  padding: 1.5rem;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  height: 100%;
}

.contact-info-card h4 {
  color: var(--primary-color);
  margin-bottom: 1rem;
  font-size: 1.1rem;
}

.contact-info-card a {
  color: var(--primary-color);
  text-decoration: none;
}

.contact-info-card a:hover {
  text-decoration: underline;
}

.map-container {
  position: relative;
  width: 100%;
  height: 250px;
  border-radius: 5px;
  overflow: hidden;
}

.map-container iframe {
  width: 100%;
  height: 100%;
  border: 0;
}

.map-section {
  background: white;
  padding: 2rem;
  border-radius: 8px;
  border: 1px solid #e9ecef;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.map-section h3 {
  color: var(--primary-color);
  margin-bottom: 1.5rem;
  font-size: 1.5rem;
}

.map-container-large {
  position: relative;
  width: 100%;
  height: 450px;
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid #ddd;
}

.map-container-large iframe {
  width: 100%;
  height: 100%;
  border: 0;
}

/* Responsive adjustments */
@media (max-width: 991px) {
  .contact-info-sidebar {
    padding-left: 0;
    margin-top: 2rem;
  }
  
  .map-section {
    margin-top: 2rem;
  }
  
  .map-container-large {
    height: 350px;
  }
}

@media (max-width: 768px) {
  .page-title {
    font-size: 2.5rem;
  }
  
  .page-subtitle {
    font-size: 1.1rem;
  }
  
  .contact-page .page-header {
    padding: 60px 0;
    min-height: 300px;
  }
  
  .contact-form-wrapper {
    padding: 1.5rem;
    margin-bottom: 2rem;
  }
  
  .map-section {
    margin-top: 0;
    padding: 1.5rem;
  }
  
  .map-container-large {
    height: 300px;
  }
  
  .map-container-large {
    height: 300px;
  }
}
</style>
{{ end }}
