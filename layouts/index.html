{{ define "main" }}
<div class="homepage">
  
  <!-- 1. Hero Section -->
  <section class="hero-section">
    <div class="hero-bg {{ if not .Params.hero_image }}hero-bg-gradient{{ end }}">
      {{ if .Params.hero_image }}
      <img src="{{ .Params.hero_image | relURL }}" alt="Professional Home Services" class="hero-background">
      {{ end }}
      <div class="hero-overlay"></div>
    </div>
    <div class="hero-content">
      <div class="container">
        <div class="row align-items-center justify-content-center">
          <div class="col-lg-8 col-md-10 col-12">
            <div class="hero-text-content">
              <h1 class="hero-title">{{ .Params.hero_title | default .Site.Params.hero_title | default "Professional Home Services in Your Area" }}</h1>
              <p class="hero-subtitle">{{ .Params.hero_subtitle | default .Site.Params.hero_subtitle | default "Licensed, insured, and trusted by homeowners" }}</p>
              
              <div class="hero-badges mb-4">
                <span class="badge bg-success me-2">
                  <i class="fas fa-certificate me-1"></i>
                  Licensed & Insured
                </span>
                <span class="badge bg-warning me-2">
                  <i class="fas fa-clock me-1"></i>
                  24/7 Emergency
                </span>
                <span class="badge bg-info">
                  <i class="fas fa-thumbs-up me-1"></i>
                  {{ .Site.Params.years_in_business | default "15" }}+ Years Experience
                </span>
              </div>
              
              <div class="hero-actions">
                <a href="{{ .Params.contact_info.phone | default .Site.Params.phone | printf "tel:%s" }}" class="btn btn-primary btn-lg me-3">
                  <i class="fas fa-phone me-2"></i>
                  {{ .Params.contact_info.phone | default .Site.Params.phone }}
                </a>
                <a href="{{ "/services" | relURL }}" class="btn btn-outline-light btn-lg">
                  <i class="fas fa-tools me-2"></i>
                  Our Services
                </a>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-8 col-12">
            <div class="hero-contact-card">
              <h3>Need Service Now?</h3>
              <p class="mb-3">Call for immediate assistance</p>
              <a href="tel:{{ .Params.contact_info.phone | default .Site.Params.phone }}" class="contact-phone">
                {{ .Params.contact_info.phone | default .Site.Params.phone }}
              </a>
              <p class="service-area">Serving {{ .Site.Params.primary_location | default "Your Area" }} & Surrounding Areas</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 2. Featured Services Section -->
  <section class="services-section py-5">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2 class="section-title">{{ .Params.services_section_title | default "Our Services" }}</h2>
          <p class="section-subtitle">{{ .Params.services_section_subtitle | default "Professional home services solutions for all your home and business needs" }}</p>
          <div class="section-divider"></div>
        </div>
      </div>
      <div class="row g-4">
        {{ range .Params.featured_services }}
        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6">
          <div class="service-card" data-aos="fade-up" data-aos-delay="{{ mul 100 (index (slice 0 1 2 3 4 5) 0) }}">
            <div class="service-content">
              {{ if .icon }}
              <div class="service-icon">
                <i class="{{ .icon }}"></i>
                <div class="icon-bg"></div>
              </div>
              {{ end }}
              <h4>{{ .title }}</h4>
              <p>{{ .description }}</p>
              <div class="service-features">
                {{ if .price }}
                <span class="price">
                  <i class="fas fa-tag"></i>
                  {{ .price }}
                </span>
                {{ end }}
                {{ if .emergency }}
                <span class="emergency-badge">
                  <i class="fas fa-bolt"></i> Emergency
                </span>
                {{ end }}
              </div>
              <a href="{{ .link }}" class="btn">
                <span>Learn More</span>
                <i class="fas fa-arrow-right"></i>
              </a>
            </div>
          </div>
        </div>
        {{ end }}
      </div>
      <div class="text-center mt-5">
        <a href="{{ "/services" | relURL }}" class="btn btn-primary btn-lg">
          <i class="fas fa-tools me-2"></i>
          View All Services
          <i class="fas fa-arrow-right ms-2"></i>
        </a>
      </div>
    </div>
  </section>

  <!-- 2.5. Why Choose Us Section -->
  <section class="why-choose-section py-5 bg-light">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2 class="section-title">{{ .Params.why_choose_us_title | default "Why Choose Us?" }}</h2>
          <p class="section-subtitle">{{ .Params.why_choose_us_subtitle | default "Here's what sets us apart from other home service providers" }}</p>
        </div>
      </div>
      <div class="row">
        {{ range .Params.why_choose_us }}
        <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 mb-4">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="{{ .icon }}"></i>
            </div>
            <h4>{{ .title }}</h4>
            <p>{{ .description }}</p>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </section>
  
  <!-- 3. About Us Section -->
  <section class="about-section py-5">
    <div class="container">
      <div class="row align-items-center">
        <div class="col-lg-6 mb-4 mb-lg-0">
          <div class="about-image">
            {{ if .Params.about_image }}
            <img src="{{ .Params.about_image | relURL }}" alt="About Us" class="img-fluid rounded">
            {{ else }}
            <div class="about-placeholder">
              <i class="fas fa-hard-hat"></i>
              <div class="credentials-overlay">
                <div class="credential-badge">Licensed</div>
                <div class="credential-badge">Insured</div>
                <div class="credential-badge">Bonded</div>
              </div>
            </div>
            {{ end }}
          </div>
        </div>
        <div class="col-lg-6">
          <div class="about-content">
            <h2 class="section-title text-start">{{ .Params.about_us_title | default "About Us" }}</h2>
            <p class="lead">{{ .Params.about_us_subtitle | default "Professional home services you can trust, with over 15 years of experience serving Gharsana and surrounding areas." }}</p>
            <div class="about-highlights">
              <div class="highlight-item">
                <i class="fas fa-shield-alt text-primary"></i>
                <div>
                  <strong>Licensed & Insured</strong>
                  <p>Fully licensed electrical contractors in Rajasthan</p>
                </div>
              </div>
              <div class="highlight-item">
                <i class="fas fa-award text-primary"></i>
                <div>
                  <strong>Quality Guarantee</strong>
                  <p>100% satisfaction guaranteed on all electrical work</p>
                </div>
              </div>
              <div class="highlight-item">
                <i class="fas fa-users text-primary"></i>
                <div>
                  <strong>Expert Team</strong>
                  <p>Certified electrical professionals with extensive training</p>
                </div>
              </div>
            </div>
            <a href="{{ "/about" | relURL }}" class="btn btn-primary">Learn More About Us</a>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 4. Testimonials Section -->
  <section class="testimonials-section py-5">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2 class="section-title">{{ .Params.testimonials_title | default "What Our Customers Say" }}</h2>
          <p class="section-subtitle">{{ .Params.testimonials_subtitle | default "Real reviews from satisfied customers in service area and surrounding areas" }}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-12">
          <div class="testimonials-carousel">
            {{ range .Params.testimonials }}
            <div class="testimonial-card">
              <div class="testimonial-content">
                <div class="rating">
                  {{ $rating := float .rating }}
                  {{ range seq (int $rating) }}
                  <i class="fas fa-star"></i>
                  {{ end }}
                  {{ if gt (sub $rating (int $rating)) 0 }}
                  <i class="fas fa-star-half-alt"></i>
                  {{ end }}
                </div>
                <p>"{{ .content }}"</p>
                <div class="testimonial-author">
                  <div class="author-info">
                    <strong>{{ .name }}</strong>
                    <span>{{ .location }}</span>
                  </div>
                  <div class="service-type">{{ .service }}</div>
                </div>
              </div>
            </div>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 5. FAQ Section -->
  <section class="faq-section py-5 bg-light">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2 class="section-title">{{ .Params.faqs_title | default "Frequently Asked Questions" }}</h2>
          <p class="section-subtitle">{{ .Params.faqs_subtitle | default "Get answers to common questions about our home services" }}</p>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <div class="accordion" id="faqAccordion">
            {{ range $index, $faq := .Params.faqs }}
            <div class="accordion-item">
              <h3 class="accordion-header">
                <button class="accordion-button{{ if ne $index 0 }} collapsed{{ end }}" type="button" data-bs-toggle="collapse" data-bs-target="#faq{{ add $index 1 }}">
                  {{ $faq.question }}
                </button>
              </h3>
              <div id="faq{{ add $index 1 }}" class="accordion-collapse collapse{{ if eq $index 0 }} show{{ end }}" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                  {{ $faq.answer }}
                </div>
              </div>
            </div>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 5.5. Service Areas Section -->
  <section class="service-areas-section py-5">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2 class="section-title">{{ .Params.service_areas_title | default "Areas We Serve" }}</h2>
          <p class="section-subtitle">{{ .Params.service_areas_subtitle | default "Professional home services throughout Gharsana and surrounding areas" }}</p>
        </div>
      </div>
      <div class="row">
        {{ range .Params.service_areas_highlight }}
        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 mb-4">
          <div class="service-area-card text-center">
            <div class="area-icon">
              <i class="fas fa-map-marker-alt"></i>
            </div>
            <h4>{{ .name }}</h4>
            <p>{{ .description }}</p>
            <a href="tel:{{ .phone }}" class="btn btn-outline-primary">
              <i class="fas fa-phone me-2"></i>
              {{ .phone }}
            </a>
          </div>
        </div>
        {{ end }}
      </div>
      <div class="text-center">
        <a href="{{ "/service-area" | relURL }}" class="btn btn-primary">
          View All Service Areas <i class="fas fa-arrow-right ms-2"></i>
        </a>
      </div>
    </div>
  </section>
  
  <!-- 6. Expert Team Section -->
  <section class="team-section py-5 bg-light">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2 class="section-title">{{ .Params.team_section_title | default "Meet Our Expert Team" }}</h2>
          <p class="section-subtitle">{{ .Params.team_section_subtitle | default "Licensed home service professionals with years of experience" }}</p>
        </div>
      </div>
      <div class="row">
        {{ $teamPages := where .Site.RegularPages "Section" "team" }}
        {{ if $teamPages }}
          {{ range first 4 $teamPages }}
          <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 mb-4">
            <div class="team-card">
              <div class="team-image">
                <div class="team-placeholder">
                  <i class="fas fa-user-tie"></i>
                </div>
              </div>
              <div class="team-info">
                <h4>{{ .Params.name }}</h4>
                <p class="team-role">{{ .Params.position }}</p>
                <p class="team-specialty">{{ .Params.experience }} experience</p>
                {{ if .Params.certifications }}
                <div class="certifications">
                  {{ range first 1 .Params.certifications }}
                  <span class="cert-badge">{{ . }}</span>
                  {{ end }}
                </div>
                {{ end }}
              </div>
            </div>
          </div>
          {{ end }}
        {{ else }}
          <!-- Fallback: Use team_members from team section page -->
          {{ with .Site.GetPage "/team" }}
            {{ if .Params.team_members }}
              {{ range first 4 .Params.team_members }}
              <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6 mb-4">
                <div class="team-card">
                  <div class="team-image">
                    {{ if .image }}
                    <img src="{{ .image | relURL }}" alt="{{ .name }}" class="img-fluid">
                    {{ else }}
                    <div class="team-placeholder">
                      <i class="fas fa-user-tie"></i>
                    </div>
                    {{ end }}
                  </div>
                  <div class="team-info">
                    <h4>{{ .name }}</h4>
                    <p class="team-role">{{ .position }}</p>
                    <p class="team-specialty">{{ .experience }} experience</p>
                    {{ if .specialties }}
                    <div class="certifications">
                      <span class="cert-badge">{{ index .specialties 0 }}</span>
                    </div>
                    {{ end }}
                  </div>
                </div>
              </div>
              {{ end }}
            {{ end }}
          {{ end }}
        {{ end }}
      </div>
      <div class="text-center">
        <a href="{{ "/team" | relURL }}" class="btn btn-primary">
          Meet Our Full Team <i class="fas fa-arrow-right ms-2"></i>
        </a>
      </div>
    </div>
  </section>
  
  <!-- 7. Special Offers Section -->
  <section class="offers-section py-5">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2 class="section-title">Special Offers</h2>
          <p class="section-subtitle">Save money on our professional home services</p>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 mb-4">
          <div class="offer-card">
            <div class="offer-badge">New Customer</div>
            <div class="offer-content">
              <h3>15% OFF</h3>
              <p>First Service</p>
              <ul>
                <li>Valid for new customers only</li>
                <li>Applies to labor costs</li>
                <li>Cannot be combined with other offers</li>
              </ul>
              <a href="{{ "/contact" | relURL }}" class="btn btn-primary">Claim Offer</a>
            </div>
          </div>
        </div>
        
        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 mb-4">
          <div class="offer-card">
            <div class="offer-badge">Emergency</div>
            <div class="offer-content">
              <h3>FREE</h3>
              <p>Service Call Fee</p>
              <ul>
                <li>With completed repair</li>
                <li>Available 24/7</li>
                <li>Same-day service</li>
              </ul>
              <a href="tel:{{ .Site.Params.emergency_phone }}" class="btn btn-danger">Call Now</a>
            </div>
          </div>
        </div>
        
        <div class="col-xl-4 col-lg-4 col-md-4 col-sm-6 mb-4">
          <div class="offer-card">
            <div class="offer-badge">Maintenance</div>
            <div class="offer-content">
              <h3>$50 OFF</h3>
              <p>Annual Maintenance</p>
              <ul>
                <li>HVAC or Plumbing maintenance</li>
                <li>Includes full inspection</li>
                <li>Priority scheduling</li>
              </ul>
              <a href="{{ "/contact" | relURL }}" class="btn btn-warning">Schedule Now</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- 9. Latest News/Blog Section -->
  <section class="blog-section py-5 bg-light">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2 class="section-title">{{ .Params.blog_section_title | default "From Our Blog" }}</h2>
          <p class="section-subtitle">{{ .Params.blog_section_subtitle | default "Helpful information for homeowners" }}</p>
        </div>
      </div>
      <div class="row">
        {{ range where .Site.RegularPages "Section" "blog" | first 3 }}
        <div class="col-lg-4 mb-4">
          <div class="blog-card">
            {{ if .Params.image }}
            <div class="blog-image">
              <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" class="img-fluid">
            </div>
            {{ end }}
            <div class="blog-content">
              <div class="blog-meta">
                <span class="blog-date">{{ .Date.Format "Jan 2, 2006" }}</span>
                <span class="blog-category">{{ .Params.category | default "Home Tips" }}</span>
              </div>
              <h4><a href="{{ .RelPermalink  }}">{{ .Title }}</a></h4>
              <p>{{ .Params.description | default (.Summary | plainify | truncate 120) }}</p>
              <a href="{{ .RelPermalink  }}" class="read-more">Read More <i class="fas fa-arrow-right"></i></a>
            </div>
          </div>
        </div>
        {{ end }}
      </div>
      <div class="text-center">
        <a href="{{ "/blog" | relURL }}" class="btn btn-primary">
          View All Articles <i class="fas fa-arrow-right ms-2"></i>
        </a>
      </div>
    </div>
  </section>
  
  <!-- 10. Appointment Scheduling Section -->
  <section class="appointment-section py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center mb-5">
          <h2 class="section-title">Schedule Your Service</h2>
          <p class="section-subtitle">Get a free estimate or book your appointment today</p>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-8">
          <div class="appointment-form-card">
            <form class="appointment-form">
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="name" class="form-label">Full Name</label>
                  <input type="text" class="form-control" id="name" required>
                </div>
                <div class="col-md-6 mb-3">
                  <label for="phone" class="form-label">Phone Number</label>
                  <input type="tel" class="form-control" id="phone" required>
                </div>
              </div>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="email" class="form-label">Email Address</label>
                  <input type="email" class="form-control" id="email" required>
                </div>
                <div class="col-md-6 mb-3">
                  <label for="service" class="form-label">Service Needed</label>
                  <select class="form-select" id="service" required>
                    <option value="">Select a service</option>
                    <option value="plumbing">Plumbing</option>
                    <option value="electrical">Electrical</option>
                    <option value="hvac">HVAC</option>
                    <option value="roofing">Roofing</option>
                    <option value="general">General Contracting</option>
                    <option value="other">Other</option>
                  </select>
                </div>
              </div>
              <div class="mb-3">
                <label for="message" class="form-label">Description of Work Needed</label>
                <textarea class="form-control" id="message" rows="4" placeholder="Please describe the work you need done..."></textarea>
              </div>
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="preferred_date" class="form-label">Preferred Date</label>
                  <input type="date" class="form-control" id="preferred_date">
                </div>
                <div class="col-md-6 mb-3">
                  <label for="urgency" class="form-label">Urgency</label>
                  <select class="form-select" id="urgency">
                    <option value="normal">Normal (within a week)</option>
                    <option value="urgent">Urgent (within 2-3 days)</option>
                    <option value="emergency">Emergency (same day)</option>
                  </select>
                </div>
              </div>
              <div class="text-center">
                <button type="submit" class="btn btn-primary btn-lg">
                  <i class="fas fa-calendar-check me-2"></i>
                  Schedule Service
                </button>
              </div>
            </form>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="contact-sidebar">
            <div class="contact-card">
              <h4>Prefer to Call?</h4>
              <div class="phone-numbers">
                <div class="phone-item">
                  <strong>General Service:</strong>
                  <a href="tel:{{ .Site.Params.phone }}" class="phone-link">{{ .Site.Params.phone }}</a>
                </div>
                <div class="phone-item emergency">
                  <strong>Emergency Line:</strong>
                  <a href="tel:{{ .Site.Params.emergency_phone | default .Site.Params.phone }}" class="emergency-link">{{ .Site.Params.emergency_phone | default .Site.Params.phone }}</a>
                </div>
              </div>
            </div>
            
            <div class="service-area-card">
              <h4>Service Areas</h4>
              <ul class="service-areas">
                <li><i class="fas fa-map-marker-alt"></i> {{ .Site.Params.primary_location }}</li>
                {{ if .Site.Params.service_areas }}
                {{ range .Site.Params.service_areas }}
                <li><i class="fas fa-map-marker-alt"></i> {{ . }}</li>
                {{ end }}
                {{ end }}
              </ul>
            </div>
            
            <div class="hours-card">
              <h4>Business Hours</h4>
              <div class="hours-list">
                <div class="hour-item">
                  <span>Monday - Friday:</span>
                  <span>{{ .Site.Params.business_hours.monday }}</span>
                </div>
                <div class="hour-item">
                  <span>Saturday:</span>
                  <span>{{ .Site.Params.business_hours.saturday }}</span>
                </div>
                <div class="hour-item">
                  <span>Sunday:</span>
                  <span>{{ .Site.Params.business_hours.sunday }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>

<style>
  /* Hero background gradient when no image is present */
  .hero-bg-gradient {
    background: linear-gradient(135deg, 
      #ff6b6b 0%,     /* Coral/Red */
      #ee5a6f 25%,    /* Pink-Red */
      #a855f7 50%,    /* Purple */
      #6366f1 75%,    /* Indigo */
      #3b82f6 100%    /* Blue */
    );
  }
  
  .hero-bg {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
  }
  
  .hero-background {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .hero-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 2;
  }
  
  .hero-content {
    position: relative;
    z-index: 3;
  }
  
  .hero-section {
    position: relative;
    min-height: 600px;
    overflow: hidden;
  }
</style>

{{ end }}