{{ define "main" }}
<div class="team-page">
  <!-- Page Header -->
  <section class="page-header">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <h1 class="page-title">{{ .Title | default "Our Expert Team" }}</h1>
          <p class="page-subtitle">{{ .Params.subtitle | default "Meet the certified professionals who make your home service projects successful" }}</p>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Team Overview -->
  <section class="team-overview py-5">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center mb-5">
          <h2>{{ .Params.overview_title | default "Professional Excellence" }}</h2>
          <p class="lead">{{ .Params.overview_description | default "Our team consists of licensed, certified professionals with years of experience in their respective fields. Every team member is committed to delivering the highest quality service and customer satisfaction." }}</p>
          
          <div class="team-stats">
            <div class="row">
              <div class="col-md-3 mb-3">
                <div class="stat-item">
                  <h3>{{ len .Params.team_members }}+</h3>
                  <p>Expert Technicians</p>
                </div>
              </div>
              <div class="col-md-3 mb-3">
                <div class="stat-item">
                  <h3>{{ .Site.Params.years_in_business | default "15" }}+</h3>
                  <p>Years Combined Experience</p>
                </div>
              </div>
              <div class="col-md-3 mb-3">
                <div class="stat-item">
                  <h3>100%</h3>
                  <p>Licensed & Insured</p>
                </div>
              </div>
              <div class="col-md-3 mb-3">
                <div class="stat-item">
                  <h3>24/7</h3>
                  <p>Emergency Response</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Team Filter -->
  <section class="team-filter py-4 bg-light">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">All Team Members</button>
            {{ $specialties := slice }}
            {{ range .Params.team_members }}
              {{ $memberSpecialties := split .specialties ", " }}
              {{ range $memberSpecialties }}
                {{ $specialty := trim . " " }}
                {{ if not (in $specialties $specialty) }}
                  {{ $specialties = $specialties | append $specialty }}
                {{ end }}
              {{ end }}
            {{ end }}
            {{ range $specialties }}
              {{ $filterKey := . | lower | replaceRE "[^a-z0-9]+" "-" }}
              <button class="filter-btn" data-filter="{{ $filterKey }}">{{ . }}</button>
            {{ end }}
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Team Grid -->
  <section class="team-grid-section py-5">
    <div class="container">
      <div class="row team-grid">
        {{ range .Params.team_members }}
        {{ $memberSpecialties := split .specialties ", " }}
        {{ $categoryList := slice }}
        {{ range $memberSpecialties }}
          {{ $specialty := trim . " " }}
          {{ $filterKey := $specialty | lower | replaceRE "[^a-z0-9]+" "-" }}
          {{ $categoryList = $categoryList | append $filterKey }}
        {{ end }}
        <div class="col-12 mb-4 team-member-item" data-category="{{ delimit $categoryList " " }}">
          <div class="team-member-card h-100">
            <!-- Member Photo -->
            <div class="member-photo">
              {{ if .image }}
              <img src="{{ .image | relURL }}" alt="{{ .name }}" class="img-fluid">
              {{ else }}
              <div class="member-placeholder">
                <i class="fas fa-user-tie"></i>
              </div>
              {{ end }}
              
              <!-- Member Overlay -->
              <div class="member-overlay">
                <div class="overlay-content">
                  <div class="social-links">
                    {{ if .linkedin }}
                    <a href="{{ .linkedin }}" target="_blank" title="LinkedIn">
                      <i class="fab fa-linkedin-in"></i>
                    </a>
                    {{ end }}
                    {{ if .email }}
                    <a href="mailto:{{ .email }}" title="Email">
                      <i class="fas fa-envelope"></i>
                    </a>
                    {{ end }}
                    {{ if .phone }}
                    <a href="tel:{{ .phone }}" title="Phone">
                      <i class="fas fa-phone"></i>
                    </a>
                    {{ end }}
                  </div>
                  <div class="contact-member-btn">
                    Contact {{ .name }}
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Member Info -->
            <div class="member-info">
              <h4>{{ .name }}</h4>
              <p class="member-position">{{ .position | default "Service Technician" }}</p>
              <p class="member-specialty">{{ .specialties | default "General Services" }}</p>
              
              <!-- Experience -->
              {{ if .experience }}
              <div class="member-experience">
                <i class="fas fa-calendar-alt"></i>
                <span>{{ .experience }} experience</span>
              </div>
              {{ end }}
              
              <!-- Member Description -->
              {{ if .bio }}
              <div class="member-description">
                <p>{{ .bio | truncate 120 }}</p>
              </div>
              {{ end }}
              
              <!-- Skills -->
              {{ if .skills }}
              <div class="member-skills">
                <h6>Specializes in:</h6>
                <div class="skills-list">
                  {{ range first 4 .skills }}
                  <span class="skill-tag">{{ . }}</span>
                  {{ end }}
                </div>
              </div>
              {{ end }}
              
              <!-- Contact Button -->
              <div class="member-contact">
                {{ if .phone }}
                <a href="tel:{{ .phone }}" class="btn btn-outline-primary btn-sm me-2">
                  <i class="fas fa-phone me-1"></i>
                  Call
                </a>
                {{ end }}
                {{ if .email }}
                <a href="mailto:{{ .email }}" class="btn btn-outline-primary btn-sm">
                  <i class="fas fa-envelope me-1"></i>
                  Email
                </a>
                {{ end }}
              </div>
            </div>
          </div>
        </div>
        {{ end }}
      </div>
    </div>
  </section>
  
  <!-- Team Certifications -->
  <section class="team-certifications py-5 bg-light">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center mb-5">
          <h2>Our Team Credentials</h2>
          <p>Every team member maintains current certifications and licenses</p>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-3 col-md-6 mb-4">
          <div class="certification-item">
            <i class="fas fa-certificate"></i>
            <h5>Licensed Professionals</h5>
            <p>State-licensed in all service areas</p>
          </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
          <div class="certification-item">
            <i class="fas fa-shield-alt"></i>
            <h5>Fully Insured</h5>
            <p>Comprehensive liability coverage</p>
          </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
          <div class="certification-item">
            <i class="fas fa-graduation-cap"></i>
            <h5>Ongoing Training</h5>
            <p>Regular skills and safety updates</p>
          </div>
        </div>
        <div class="col-lg-3 col-md-6 mb-4">
          <div class="certification-item">
            <i class="fas fa-handshake"></i>
            <h5>Background Checked</h5>
            <p>Trusted professionals you can rely on</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Call to Action -->
  <section class="team-cta py-5">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <div class="cta-content">
            <h2>Ready to Work with Our Expert Team?</h2>
            <p class="lead">Contact us today to discuss your project and meet the professionals who will make it happen</p>
            <div class="cta-actions">
              <a href="{{ "/contact" | relURL }}" class="btn btn-primary btn-lg me-3">
                <i class="fas fa-calendar-check me-2"></i>
                Schedule Consultation
              </a>
              <a href="tel:{{ .Site.Params.phone }}" class="btn btn-outline-light btn-lg">
                <i class="fas fa-phone me-2"></i>
                Call {{ .Site.Params.phone }}
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  
</div>

<style>
/* Team Page Styles */
.team-page .page-header {
  background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
  color: white;
  padding: 80px 0;
}

/* Team Overview */
.team-overview {
  background: white;
}

.team-stats {
  margin-top: 40px;
}

.stat-item {
  text-align: center;
  padding: 20px;
  background: var(--light-color);
  border-radius: 8px;
  height: 100%;
}

.stat-item h3 {
  font-size: 2.5rem;
  font-weight: 700;
  color: var(--primary-color);
  margin-bottom: 10px;
}

.stat-item p {
  color: var(--secondary-color);
  margin: 0;
  font-weight: 500;
}

/* Team Filter */
.team-filter {
  background: var(--light-color);
}

.filter-buttons {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 10px;
}

.filter-btn {
  background: white;
  border: 2px solid var(--primary-color);
  color: var(--primary-color);
  padding: 10px 20px;
  border-radius: 25px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 500;
}

.filter-btn:hover,
.filter-btn.active {
  background: var(--primary-color);
  color: white;
  transform: translateY(-2px);
}

/* Team Grid */
.team-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 30px;
}

.team-member-item {
  transition: all 0.3s ease;
}

.team-member-item.hidden {
  opacity: 0;
  transform: scale(0.8);
  pointer-events: none;
}

.team-member-card {
  background: white;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
  transition: all 0.3s ease;
}

.team-member-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
}

/* Member Photo */
.member-photo {
  height: 300px;
  position: relative;
  overflow: hidden;
}

.member-photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.team-member-card:hover .member-photo img {
  transform: scale(1.1);
}

.member-placeholder {
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, var(--secondary-color), #5a6268);
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 5rem;
}

.member-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.8);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.team-member-card:hover .member-overlay {
  opacity: 1;
}

.overlay-content {
  text-align: center;
  color: white;
}

.social-links {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-bottom: 20px;
}

.social-links a {
  width: 40px;
  height: 40px;
  background: var(--primary-color);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  transition: all 0.3s ease;
}

.social-links a:hover {
  background: white;
  color: var(--primary-color);
  transform: scale(1.1);
}

.view-profile-btn {
  background: white;
  color: var(--primary-color);
  padding: 10px 20px;
  border-radius: 25px;
  text-decoration: none;
  font-weight: 600;
  transition: all 0.3s ease;
}

.view-profile-btn:hover {
  background: var(--primary-color);
  color: white;
}

/* Member Info */
.member-info {
  padding: 25px;
}

.member-info h4 {
  margin-bottom: 5px;
  color: var(--dark-color);
}

.member-info h4 a {
  color: var(--dark-color);
  text-decoration: none;
  transition: color 0.3s ease;
}

.member-info h4 a:hover {
  color: var(--primary-color);
}

.member-position {
  color: var(--primary-color);
  font-weight: 600;
  margin-bottom: 5px;
}

.member-specialty {
  color: var(--secondary-color);
  font-size: 0.9rem;
  margin-bottom: 15px;
}

.member-experience {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 15px;
  color: var(--secondary-color);
  font-size: 0.9rem;
}

.member-experience i {
  color: var(--primary-color);
}

.member-certifications {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
  margin-bottom: 15px;
}

.cert-badge {
  background: var(--light-color);
  color: var(--primary-color);
  padding: 3px 8px;
  border-radius: 10px;
  font-size: 0.75rem;
  font-weight: 500;
}

.cert-more {
  color: var(--secondary-color);
  font-size: 0.75rem;
  font-style: italic;
}

.member-description {
  margin-bottom: 15px;
}

.member-description p {
  color: var(--secondary-color);
  font-size: 0.9rem;
  line-height: 1.6;
  margin: 0;
}

.member-skills h6 {
  color: var(--dark-color);
  font-size: 0.875rem;
  margin-bottom: 8px;
}

.skills-list {
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
  margin-bottom: 15px;
}

.skill-tag {
  background: var(--primary-color);
  color: white;
  padding: 2px 6px;
  border-radius: 8px;
  font-size: 0.7rem;
  font-weight: 500;
}

.member-contact {
  margin-top: 15px;
  text-align: center;
}

/* Team Certifications */
.team-certifications {
  background: var(--light-color);
}

.certification-item {
  text-align: center;
  padding: 30px 20px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
  height: 100%;
}

.certification-item i {
  font-size: 3rem;
  color: var(--primary-color);
  margin-bottom: 20px;
}

.certification-item h5 {
  color: var(--dark-color);
  margin-bottom: 10px;
}

.certification-item p {
  color: var(--secondary-color);
  margin: 0;
}

/* Team CTA */
.team-cta {
  background: var(--primary-color);
  color: white;
  text-align: center;
}

.cta-content h2 {
  color: white;
  margin-bottom: 15px;
}

.cta-content .lead {
  opacity: 0.9;
  margin-bottom: 30px;
}

.cta-actions {
  display: flex;
  justify-content: center;
  gap: 15px;
  flex-wrap: wrap;
}

.btn-outline-light {
  border-color: white;
  color: white;
}

.btn-outline-light:hover {
  background: white;
  color: var(--primary-color);
}

/* Responsive Design */
@media (max-width: 992px) {
  .team-grid {
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
  }
  
  .cta-actions {
    flex-direction: column;
    align-items: center;
  }
  
  .filter-buttons {
    flex-direction: column;
    align-items: center;
  }
  
  .filter-btn {
    width: 200px;
  }
}

@media (max-width: 768px) {
  .team-grid {
    grid-template-columns: 1fr;
  }
  
  .member-photo {
    height: 250px;
  }
  
  .member-placeholder {
    font-size: 4rem;
  }
  
  .stat-item h3 {
    font-size: 2rem;
  }
}

@media (max-width: 576px) {
  .member-info {
    padding: 20px;
  }
  
  .member-contact {
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  
  .certification-item {
    padding: 20px;
  }
  
  .certification-item i {
    font-size: 2rem;
  }
}
</style>

<script>
// Team filtering functionality
document.addEventListener('DOMContentLoaded', function() {
  const filterButtons = document.querySelectorAll('.filter-btn');
  const teamItems = document.querySelectorAll('.team-member-item');
  
  filterButtons.forEach(button => {
    button.addEventListener('click', function() {
      // Update active filter
      filterButtons.forEach(btn => btn.classList.remove('active'));
      this.classList.add('active');
      
      const filterValue = this.getAttribute('data-filter');
      
      // Filter team members
      teamItems.forEach(item => {
        const itemCategories = item.getAttribute('data-category').split(' ');
        
        if (filterValue === 'all' || itemCategories.includes(filterValue)) {
          item.style.display = 'block';
          item.classList.remove('hidden');
        } else {
          item.classList.add('hidden');
          setTimeout(() => {
            if (item.classList.contains('hidden')) {
              item.style.display = 'none';
            }
          }, 300);
        }
      });
    });
  });
});
</script>
{{ end }}